(this.webpackJsonpcatalogo_fabislacos_site=this.webpackJsonpcatalogo_fabislacos_site||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(17),i=a.n(r),o=(a(100),a(101),a(30)),s=a(18),l=a(19),d=a.n(l),u=a(27),j=a(14),p=a(177),b=a(165),m=a(176),h=a(167),g=a(166),f=a(160),x=a(163),O=a(55),v=a.n(O),y=a(50);a(109),a(110);y.a.initializeApp({apiKey:"AIzaSyBVw26Xr_I-ry6ejYxAaeOZ_01I4_oxKjE",authDomain:"catalogofabislacos.firebaseapp.com",projectId:"catalogofabislacos",storageBucket:"catalogofabislacos.appspot.com",messagingSenderId:"503577431829",appId:"1:503577431829:web:751b5ccb76f3331fbae31c"});var w=y.a.auth,C=y.a.firestore(),N=a(36),k=a(76),S=a.n(k),W=a(77),I=a.n(W),q=a(4),D=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(7),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.success.dark},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%"},link:{marginTop:25,color:"rgba(0,0,0,0.65)",textDecoration:"none",marginRight:"0%",alignSelf:"flex-end","&:hover":{color:"rgba(0,0,0,1)"}},moneyInput:{marginTop:12,padding:"0 0 10px 15px",paddingTop:15,color:"#666",width:"100%",height:30,borderWidth:"0 0 2px 0",fontSize:16,fontFamily:"Montserrat",fontWeight:800,"&:focus":{outline:"none"},"&::placeholder":{color:"#666",fontStyle:"italic",fontWeight:400,fontFamily:"Montserrat",padding:"0 0 5px 5px"}},styleInput:{fontFamily:"Montserrat"}}})),T=function(e){var t=e.value,a=e.onChange,n=(e.setPreco,e.preco,D()),c=I()(Object(N.a)({},{prefix:"R$ ",includeThousandsSeparator:!0,thousandsSeparatorSymbol:".",allowDecimal:!0,decimalSymbol:",",decimalLimit:2,requireDecimal:!1,allowNegative:!1,allowLeadingZeroes:!1}));return Object(q.jsx)(S.a,{mask:c,className:n.moneyInput,id:"price",onChange:a,value:t,label:"Pre\xe7o",placeholder:"R$ 00,00",onBlur:function(){}})},R=a.p+"static/media/uwn.3b97a0cc.png",F=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(7),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.success.dark},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%"},link:{marginTop:25,color:"rgba(0,0,0,0.65)",textDecoration:"none",marginRight:"0%",alignSelf:"flex-end","&:hover":{color:"rgba(0,0,0,1)"}},moneyInput:{marginTop:12,padding:"0 0 10px 15px",paddingTop:15,color:"#666",width:"100%",height:30,borderWidth:"0 0 2px 0",fontSize:16,fontFamily:"Montserrat",fontWeight:800,"&:focus":{outline:"none"},"&::placeholder":{color:"#666",fontStyle:"italic",fontWeight:400,fontFamily:"Montserrat",padding:"0 0 5px 5px"}},styleInput:{fontFamily:"Montserrat"}}}));function L(){var e=F(),t=Object(n.useState)(!0),a=Object(j.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(""),s=Object(j.a)(i,2),l=s[0],f=s[1],O=Object(n.useState)(""),w=Object(j.a)(O,2),N=w[0],k=w[1],S=Object(n.useState)(""),W=Object(j.a)(S,2),I=W[0],D=W[1],L=Object(n.useState)(""),M=Object(j.a)(L,2),E=M[0],A=M[1],P=Object(n.useState)(null),V=Object(j.a)(P,2),_=V[0],z=V[1],B=Object(n.useState)(null),U=Object(j.a)(B,2),G=U[0],Q=U[1],X=Object(n.useState)("Nada salvo na sess\xe3o ainda."),$=Object(j.a)(X,2),J=$[0],K=$[1];function Z(){return(Z=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.collection("produtos").add({produto:{nome:t.nome,preco:t.preco,descricao:t.descricao,quantidade:t.quantidade,categoria:t.categoria,file:t.file},created:y.a.firestore.FieldValue.serverTimestamp()}).then((function(){K("Dado cadastrado com sucesso")})).catch((function(e){K("Falha no cadastro")}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c&&r(!1),Object(q.jsxs)(x.a,{component:"main",maxWidth:"xs",children:[Object(q.jsx)(b.a,{}),Object(q.jsxs)("div",{className:e.paper,children:[Object(q.jsx)("img",{style:{height:80,width:80},src:R}),Object(q.jsx)(g.a,{component:"h1",variant:"h5",children:"Cadastro Produto"}),Object(q.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(q.jsxs)(h.a,{container:!0,spacing:2,children:[Object(q.jsx)(h.a,{item:!0,xs:12,children:Object(q.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"name",value:l,label:"Nome",name:"name",autoComplete:"name",onChange:function(e){return f(e.target.value)},className:e.styleInput})}),Object(q.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(q.jsx)(m.a,{autoComplete:"quantidade",name:"quantidade",variant:"outlined",required:!0,fullWidth:!0,value:E,id:"quantidade",label:"Quantidade",onChange:function(e){return A(e.target.value)},className:e.styleInput})}),Object(q.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(q.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"categoria",value:I,label:"Categoria",name:"categoria",autoComplete:"categoria",onChange:function(e){return D(e.target.value)},className:e.styleInput})}),Object(q.jsx)(h.a,{item:!0,xs:12,children:Object(q.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,multiline:!0,id:"descricao",value:N,label:"Descri\xe7\xe3o",name:"descricao",autoComplete:"descricao",onChange:function(e){return k(e.target.value)},className:e.styleInput})}),Object(q.jsx)(h.a,{item:!0,xs:12,children:Object(q.jsx)(T,{onChange:function(e){Q(e.target.value)},setPreco:Q,preco:G,value:G})}),Object(q.jsxs)(h.a,{item:!0,xs:12,children:[Object(q.jsx)(v.a,{base64:!0,handleFiles:function(e){z({name:e.fileList[0].name,base64:e.base64})},children:Object(q.jsx)(p.a,{variant:"contained",component:"label",children:"Enviar arquivo"})}),_&&Object(q.jsx)(g.a,{children:_.name})]})]}),Object(q.jsx)(p.a,{fullWidth:!0,variant:"contained",color:"primary",preventDefault:!0,className:e.submit,onClick:function(e){!function(e){Z.apply(this,arguments)}({nome:l,preco:G,descricao:N,quantidade:E,categoria:I,file:_}),f(""),Q(null),k(""),D(""),A(""),z(null)},children:"Salvar"})]}),Object(q.jsxs)(g.a,{style:{margin:7},variant:"body1",children:["Status: ",J]}),Object(q.jsx)(o.b,{className:e.link,to:"/view",children:Object(q.jsx)(g.a,{align:"right",children:"Visualizar produtos no estoque \u27a4"})})]})]})}var M=a(171),E=a(175),A=a(174),P=a(170),V=a(172),_=a(173),z=a(168),B=a(66),U=a.n(B),G=a(169),Q=a(59),X=a(83),$=a.n(X),J=Object(f.a)((function(e){return{table:{marginTop:15},avatar:{margin:e.spacing(1),backgroundColor:e.palette.success.dark},paper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",margin:"10px",height:"100%",width:"99%",marginTop:e.spacing(7)},link:{marginTop:25,color:"rgba(0,0,0,0.65)",textDecoration:"none",marginLeft:"10%",alignSelf:"flex-start","&:hover":{color:"rgba(0,0,0,1)"}},header:{fontWeight:"bold",backgroundColor:"#CCC",boxShadow:"0 3px 5px 2px rgba(120, 120, 120, .3)"}}})),K=$()()((function(e){var t=J(),a=Object(n.useState)([]),c=Object(j.a)(a,2),r=c[0],i=c[1],s=Object(n.useState)(!0),l=Object(j.a)(s,2),b=l[0],m=l[1],h=!0,f=Object(Q.a)(C.collection("produtos").orderBy("created","desc").limit(500)),x=Object(j.a)(f,3),O=x[0];x[1],x[2];function v(){return(v=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),C.collection("produtos").doc(t).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){var e=(null===O||void 0===O?void 0:O.docs.map((function(e){return Object(N.a)(Object(N.a)({},e.data()),{},{key:e.id})})).reverse())||[];i(e),console.log(e)}),[O]),b&&m(!1),r.length>0&&(h=!1);var y=function(e){!function(e){v.apply(this,arguments)}(e)};return e.containerWidth<=500?Object(q.jsxs)("div",{className:t.paper,children:[Object(q.jsx)("img",{style:{height:80,width:80},src:R}),Object(q.jsx)(g.a,{component:"h1",variant:"h5",children:"Lista de produtos"}),h?Object(q.jsx)(G.a,{}):Object(q.jsx)(P.a,{style:{width:"100vw",margin:"0 10px",display:"flex",justifyContent:"center",alignItems:"center"},component:z.a,children:Object(q.jsxs)(M.a,{className:t.table,"aria-label":"simple table",children:[Object(q.jsx)(V.a,{children:Object(q.jsx)(_.a,{children:Object(q.jsx)(A.a,{align:"center",className:t.header})})}),Object(q.jsx)(E.a,{children:null===r||void 0===r?void 0:r.map((function(e){return Object(q.jsx)(_.a,{children:Object(q.jsxs)(A.a,{align:"center",children:[Object(q.jsx)("img",{style:{height:100,width:100},src:e.produto.file.base64||e.produto.file}),Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(q.jsxs)(g.a,{style:{fontWeight:"bold",marginRight:10},children:["NOME:"," "]}),Object(q.jsx)(g.a,{children:" "+e.produto.nome})]}),Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(q.jsxs)(g.a,{style:{fontWeight:"bold",marginRight:10},children:["CATEGORIA:"," "]}),Object(q.jsx)(g.a,{children:" "+e.produto.categoria})]}),Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(q.jsxs)(g.a,{style:{fontWeight:"bold",marginRight:5},children:["DESCRI\xc7\xc3O:"," "]}),Object(q.jsx)(g.a,{children:" "+e.produto.descricao})]}),Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(q.jsxs)(g.a,{style:{fontWeight:"bold",marginRight:5},children:["QUANTIDADE:"," "]}),Object(q.jsx)(g.a,{children:" "+e.produto.quantidade})]}),Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(q.jsxs)(g.a,{style:{fontWeight:"bold",marginRight:5},children:["PRE\xc7O:"," "]}),Object(q.jsx)(g.a,{children:" "+e.produto.preco})]}),Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginRight:"30%",marginLeft:"30%"},children:[Object(q.jsx)(o.b,{to:{pathname:"/produto_view",state:e},id:e.produto.key,name:e.produto.nome,style:{display:"flex",flex:1},children:Object(q.jsx)(p.a,{fullWidth:!0,variant:"contained",color:"primary",preventDefault:!0,className:t.submit,onClick:function(){},children:Object(q.jsx)(U.a,{})})}),Object(q.jsx)(p.a,{fullWidth:!0,variant:"contained",color:"primary",preventDefault:!0,className:t.submit,onClick:function(){return y(e.key)},style:{display:"flex",flex:1,marginLeft:"5%"},children:"X"})]})]})},e.produto.nome)}))})]})}),Object(q.jsx)(o.b,{className:t.link,to:"/add",children:Object(q.jsx)(g.a,{align:"left",children:"\u2b9c Voltar para o cadastro de produtos"})})]}):Object(q.jsxs)("div",{className:t.paper,children:[Object(q.jsx)("img",{style:{height:80,width:80},src:R}),Object(q.jsx)(g.a,{component:"h1",variant:"h5",children:"Lista de produtos"}),h?Object(q.jsx)(G.a,{}):Object(q.jsx)(P.a,{style:{width:"100vw",margin:"0 10px",display:"flex",justifyContent:"center",alignItems:"center"},component:z.a,children:Object(q.jsxs)(M.a,{className:t.table,"aria-label":"simple table",children:[Object(q.jsx)(V.a,{children:Object(q.jsxs)(_.a,{children:[Object(q.jsx)(A.a,{align:"center",className:t.header,children:"Nome"}),Object(q.jsx)(A.a,{align:"center",className:t.header,children:"Categoria"}),Object(q.jsx)(A.a,{align:"center",className:t.header,children:"Descri\xe7\xe3o"}),Object(q.jsx)(A.a,{align:"center",className:t.header,children:"Quantidade"}),Object(q.jsx)(A.a,{align:"center",className:t.header,children:"Imagem"}),Object(q.jsx)(A.a,{align:"center",className:t.header,children:"Pre\xe7o"}),Object(q.jsx)(A.a,{align:"center",className:t.header,children:"Editar"}),Object(q.jsx)(A.a,{align:"center",className:t.header,children:"Apagar"})]})}),Object(q.jsx)(E.a,{children:null===r||void 0===r?void 0:r.map((function(e){return Object(q.jsxs)(_.a,{children:[Object(q.jsx)(A.a,{align:"center",children:e.produto.nome}),Object(q.jsx)(A.a,{align:"center",children:e.produto.categoria}),Object(q.jsx)(A.a,{align:"center",children:e.produto.descricao}),Object(q.jsx)(A.a,{align:"center",children:e.produto.quantidade}),Object(q.jsx)(A.a,{align:"center",children:Object(q.jsx)("img",{style:{height:100,width:100},src:e.produto.file.base64||e.produto.file})}),Object(q.jsx)(A.a,{align:"center",children:e.produto.preco}),Object(q.jsx)(A.a,{align:"center",children:Object(q.jsx)(o.b,{to:{pathname:"/produto_view",state:e},id:e.produto.key,name:e.produto.nome,children:Object(q.jsx)(p.a,{fullWidth:!0,variant:"contained",color:"primary",preventDefault:!0,className:t.submit,onClick:function(){},children:Object(q.jsx)(U.a,{})})})}),Object(q.jsx)(A.a,{align:"center",children:Object(q.jsx)(p.a,{fullWidth:!0,variant:"contained",color:"primary",preventDefault:!0,className:t.submit,onClick:function(){return y(e.key)},children:"X"})})]},e.produto.nome)}))})]})}),Object(q.jsx)(o.b,{className:t.link,to:"/add",children:Object(q.jsx)(g.a,{align:"left",children:"\xab Voltar para o cadastro de produtos"})})]})})),Z=a(178),H=a(84),Y=a.n(H),ee=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(7),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.success.dark},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%"},link:{marginTop:25,color:"rgba(0,0,0,0.65)",textDecoration:"none",marginLeft:"10%",alignSelf:"flex-start","&:hover":{color:"rgba(0,0,0,1)"}},moneyInput:{marginTop:12,padding:"0 0 10px 15px",paddingTop:15,color:"#666",width:"100%",height:30,borderWidth:"0 0 2px 0",fontSize:16,fontFamily:"Montserrat",fontWeight:800,"&:focus":{outline:"none"},"&::placeholder":{color:"#666",fontStyle:"italic",fontWeight:400,fontFamily:"Montserrat",padding:"0 0 5px 5px"}},styleInput:{fontFamily:"Montserrat"}}})),te=function(){var e=Object(s.e)(),t=Object(n.useState)(e.state.key),a=Object(j.a)(t,2),c=a[0],r=(a[1],Object(n.useState)(e.state.produto.nome)),i=Object(j.a)(r,2),l=i[0],f=i[1],O=Object(n.useState)(e.state.produto.preco),w=Object(j.a)(O,2),N=w[0],k=w[1],S=Object(n.useState)(e.state.produto.descricao),W=Object(j.a)(S,2),I=W[0],D=W[1],R=Object(n.useState)(e.state.produto.categoria),F=Object(j.a)(R,2),L=F[0],M=F[1],E=Object(n.useState)(e.state.produto.quantidade),A=Object(j.a)(E,2),P=A[0],V=A[1],_=Object(n.useState)("Nada salvo na sess\xe3o ainda."),z=Object(j.a)(_,2),B=z[0],U=z[1],G=Object(n.useState)(e.state.produto.file),Q=Object(j.a)(G,2),X=Q[0],$=Q[1];function J(){return(J=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.collection("produtos").doc(t.id).update({produto:{nome:t.nome,preco:t.preco,descricao:t.descricao,quantidade:t.quantidade,categoria:t.categoria,file:t.file},created:y.a.firestore.FieldValue.serverTimestamp()}).then((function(){U("Dado editado com sucesso")})).catch((function(e){U("Falha na edi\xe7\xe3o")}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=ee();return Object(q.jsxs)(x.a,{component:"main",maxWidth:"xs",children:[Object(q.jsx)(b.a,{}),Object(q.jsxs)("div",{className:K.paper,children:[Object(q.jsx)(Z.a,{className:K.avatar,children:Object(q.jsx)(Y.a,{})}),Object(q.jsx)(g.a,{component:"h1",variant:"h5",children:"Atualiza\xe7\xe3o do Produto"}),Object(q.jsxs)("form",{className:K.form,noValidate:!0,children:[Object(q.jsxs)(h.a,{container:!0,spacing:2,children:[Object(q.jsx)(h.a,{item:!0,xs:12,children:Object(q.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"name",value:l,label:"Nome",name:"name",autoComplete:"name",onChange:function(e){return f(e.target.value)},className:K.styleInput})}),Object(q.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(q.jsx)(m.a,{autoComplete:"quantidade",name:"quantidade",variant:"outlined",required:!0,fullWidth:!0,value:P,id:"quantidade",label:"Quantidade",onChange:function(e){return V(e.target.value)},className:K.styleInput})}),Object(q.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(q.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"categoria",value:L,label:"Categoria",name:"categoria",autoComplete:"categoria",onChange:function(e){return M(e.target.value)},className:K.styleInput})}),Object(q.jsx)(h.a,{item:!0,xs:12,children:Object(q.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"descricao",value:I,label:"Descri\xe7\xe3o",name:"descricao",autoComplete:"descricao",onChange:function(e){return D(e.target.value)},className:K.styleInput})}),Object(q.jsx)(h.a,{item:!0,xs:12,children:Object(q.jsx)(T,{onChange:function(e){return k(e.target.value)},value:N,preco:N,setPreco:k})}),Object(q.jsxs)(h.a,{item:!0,xs:12,children:[Object(q.jsx)(v.a,{base64:!0,handleFiles:function(e){$({name:e.fileList[0].name,base64:e.base64})},children:Object(q.jsx)(p.a,{variant:"contained",component:"label",children:"Enviar arquivo"})}),X&&Object(q.jsx)(g.a,{children:X.name})]})]}),Object(q.jsx)(p.a,{fullWidth:!0,variant:"contained",color:"primary",preventDefault:!0,className:K.submit,onClick:function(e){!function(e){J.apply(this,arguments)}({id:c,nome:l,preco:N,descricao:I,quantidade:P,categoria:L,file:X}),f(""),k(""),D(""),M(""),V("")},children:"Atualizar"})]}),Object(q.jsxs)(g.a,{style:{margin:7},variant:"body1",children:["Status: ",B]})]}),Object(q.jsx)(o.b,{className:K.link,to:"/view",children:Object(q.jsx)(g.a,{align:"left",children:"\u2b9c Voltar para visualizar produtos no estoque"})})]})},ae={isLoggedIn:function(){return Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w().currentUser;case 2:return t=e.sent,e.abrupt("return",!!t);case 4:case"end":return e.stop()}}),e)})))()},observeStatus:function(e){w().onAuthStateChanged(e)},loginWithGoogle:function(){return Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new w.GoogleAuthProvider,e.abrupt("return",w().signInWithPopup(t).then((function(e){return{token:e.credential.accessToken,user:e.user}})));case 2:case"end":return e.stop()}}),e)})))()}};var ne=function(e){return Object(q.jsx)("div",{className:"Login",children:Object(q.jsx)("button",{onClick:function(){ae.loginWithGoogle().then((function(t){console.log("r",t.user.photoURL);var a=t.user;a.uid,a.displayName,a.email,a.emailVerified,a.photoURL;e.history.push("/mess")}))},children:"Login com o Google"})})},ce={getMessages:function(){return Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.collection("messages").then((function(e){var t=[];return e.forEach((function(e){t.push(e.data())})),t})));case 1:case"end":return e.stop()}}),e)})))()},getProdutos:function(){return Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.collection("produtos").then((function(e){var t=[];return e.forEach((function(e){t.push(e.data())})),t})));case 1:case"end":return e.stop()}}),e)})))()},observeMessages:function(e){C.collection("messages").onSnapshot(e)},sendMessage:function(e){return Object(u.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=w().currentUser,C.collection("messages").add({user:{uid:a.uid,photo:a.photoURL,name:a.displayName,email:a.email},message:e,created:y.a.firestore.FieldValue.serverTimestamp()});case 2:case"end":return t.stop()}}),t)})))()}};a(120);var re=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],c=t[1];function r(){ce.sendMessage(a),c("")}return Object(q.jsxs)("div",{className:"MessageSender",children:[Object(q.jsx)("input",{type:"text",value:a,placeholder:"Insira sua mensagem aqui",onChange:function(e){return c(e.target.value)},onSubmit:r}),Object(q.jsx)("button",{onClick:r,children:"Enviar"})]})};a(121);var ie=function(e){var t=e.messages,a=Object(n.useRef)(null);return Object(n.useEffect)((function(){a.current.scrollTop=a.current.scrollHeight}),[t]),Object(q.jsx)("div",{className:"Messages",ref:a,children:t.map((function(e){var t=w().currentUser,a=e.user.uid===t.uid?"outgoing":"incoming";return Object(q.jsx)("div",{className:"Message ".concat(a),children:Object(q.jsxs)("div",{className:a,children:[Object(q.jsx)("img",{src:e.user.photo,alt:e.user.displayName}),Object(q.jsx)("span",{children:e.message})]})},e.key)}))})};var oe=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(Q.a)(C.collection("messages").orderBy("created","desc").limit(500)),i=Object(j.a)(r,3),o=i[0],s=i[1],l=i[2];return Object(n.useEffect)((function(){var e=(null===o||void 0===o?void 0:o.docs.map((function(e){return Object(N.a)(Object(N.a)({},e.data()),{},{key:e.id})})).reverse())||[];c(e)}),[o]),{messages:a,loadingMessages:s,error:l}};a(122);var se=function(){var e=oe().messages;return Object(q.jsxs)("div",{className:"Chat",children:[Object(q.jsx)(ie,{messages:e}),Object(q.jsx)(re,{})]})},le=function(){return Object(q.jsxs)(o.a,{children:[Object(q.jsx)(s.a,{exact:!0,path:"/",component:K}),Object(q.jsx)(s.a,{exact:!0,path:"/log",component:ne}),Object(q.jsx)(s.a,{exact:!0,path:"/mess",component:se}),Object(q.jsx)(s.a,{exact:!0,path:"/add",component:L}),Object(q.jsx)(s.a,{exact:!0,path:"/view",component:K}),Object(q.jsx)(s.a,{exact:!0,path:"/produto_view",component:te})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(q.jsx)(c.a.StrictMode,{children:Object(q.jsx)(le,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[123,1,2]]]);
//# sourceMappingURL=main.fa30c781.chunk.js.map